<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CNC Machine Demo</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="https://cdn.socket.io/socket.io-3.0.5.js"></script>
    <script src="./client.js"></script>
</head>
<body>
    <h2 id="Tittel">CNC Machine Demo</h2>
    <div>
        <button type="button" name="Restartbtn" id="homebtn">Home</button>
        <button type="button" name="Forcebtn" onclick="openTab(event, 'home')" id="forcebtn">ESTOP</button>
    </div>
    <h3>Swap tool</h3>
    <div>
        <button type="button" name="Tool1" id="t1">Mill-tool</button>
        <button type="button" name="Tool2" id="t2">Marker-tool</button>
    </div>
    
    <div class="tab-window">
        <div class="tab">
            <button class="tablinks" onclick="openTab(event, 'home')" id="defaultOpen">Home</button>
            <button class="tablinks" onclick="openTab(event, 'tab2')">Live Sim</button>
            <button class="tablinks" onclick="openTab(event, 'tab3')">Mill settings</button>
            <button class="tablinks" onclick="openTab(event, 'tab4')">Draw drive</button>
        </div>

        <div id="home" class="tabcontent">
            <h3>Manual commands</h3>
            <input type="text" id="txt1" placeholder="GCODE commands">
            <h3>Demo programs</h3>
            <input type="text" placeholder="Enter demo/tool program" id="txt2">
            <h1>CNC Data</h1>
            <p id="CNCdata">Waiting for data...</p>
            <h1>Tool Data</h1>
            <p id="Tooldata">Waiting for data...</p>
        </div>

        <div id="tab2" class="tabcontent">
            <canvas id="canvas" class="centered-canvas" width="590" height="350"></canvas>
        </div>

        <div id="tab3" class="tabcontent">
            <label>Pick RPM:</label>
              <input type="text" name="RPM_input" placeholder="enter rpm" id="RPM">
              <div class="form-control">
                <label for="file-input">Select a file:</label>
                <input type="file" id="file-input">
              </div>
              <button id="start-button" disabled>Start</button>
          </div>
        <div id="tab4" class="tabcontent">
            <canvas id="Drawcanvas" class="centered-canvas" width="590" height="330"></canvas>
            <button id="send-canvas-button">Send Canvas Data</button> 
            <button id="reset-canvas-button">Reset Canvas Data</button> 
        </div>
    </div>

    <script>
        function openTab(evt, tabName) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tablinks");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            document.getElementById(tabName).style.display = "block";
            evt.currentTarget.className += " active";
        }

        document.getElementById("defaultOpen").click();
    </script>
</body>
</html>

